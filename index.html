<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <script type="text/javascript" src="cordova.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script type="text/javascript" src="cordova.oauth2.js"></script>
        <script>
            
// template for new oauth2 service            
function oauth2_login() {
        auth_url: 'https://accounts.google.com/o/oauth2/auth', // required
        response_type: 'code',    // required - "code"/"token"
        token_url: 'https://accounts.google.com/o/oauth2/token',// required if response_type = 'code'
        logout_url: 'https://accounts.google.com/logout',         // recommended if available
        client_id: '398902764944-clonrjacq4h0mppg6bivfmp3hsi25sf7.apps.googleusercontent.com',      // required
        client_secret: 'eLDnmpQ_CoGNksZZ3thL0Yhd',      // required if response_type = 'code'
        redirect_uri: 'http://users.metropolia.fi/~sivagama/PROJECT/PHONEGAP/oauth2callback',   // required - some dummy url
        other_params: {scope:'https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/youtube'}  
    }, function(token, response){
        // do something with token or response
        $("#logs").append("<p class='success'><b>access_token: </b>"+token+"</p>");
        $("#logs").append("<p class='success'><b>response: </b>"+JSON.stringify(response)+"</p>");
    }, function(error, response){
        // do something with error object
        $("#logs").append("<p class='error'><b>error: </b>"+JSON.stringify(error)+"</p>");
        $("#logs").append("<p class='error'><b>response: </b>"+JSON.stringify(response)+"</p>");
    }); 
}
       
        </script>
        <style>
            body{background-color:white;font-family: Arial;margin: 0}
            .content {padding: 0 20px}
            .button {text-align: center;padding: 10px;border-radius: 10px;border: 1px solid #777;background-color: #ddd}
            h1 {text-align: center}
            p.success {background-color: #efe; padding:5px}
            p.error {background-color: #fee; padding:5px}
        </style>    
        <title>Oauth2 Cordova XDK</title>
    </head>
    <body>
        <div class="content">
            <h1>Oauth2</h1>
            <p><div class="button" onclick="oauth2_login()">Oauth2 Login</div></p>
            <div id="logs"></div>
        </div>
    </body>
</html>
